 <div class = "col-lg-8 col-lg-offset-2 border" ng-controller="MainCtrl" ng-init="getFiles('builder')">
  <div class="jumbotron">
    <h2>Directory Details</h2> 
  </div> 
  <breadcrumb></breadcrumb>
  <table class="table table-hover">
    <thead>
     <tr>
      <th> Name </th>
      <th> Size </th>
      <th> Location </th>
      <th> Action </th>
     </tr>
    </thead>
    <tr ng-repeat = "content in result">
       <td>
         <div ng-if = "content.type =='dir'">
         	<a ng-click="getFiles(content.path + '/' + content.name)"  ng-class="'folder'"> {{content.name}}  </a> [contains {{content.contentCount}} files]
         </div>
         <div ng-if = "content.type == 'file' ">
         	<a ng-click = "showDetails(content.path + '/' + content.name)" ng-class="'file'"> {{content.name}}</a>
         </div>
       </td>
       <td>{{content.size}}</td>
       <td>{{content.path}} </td>
       <td>
        <div>
		    <button class="btn btn-sm btn-default"  ng-show = "content.type == 'file'" ng-click="moveToArchive(item)" title="move to archive">
		        <i class="glyphicon glyphicon-log-out"></i>
		    </button>
		    <button class="btn btn-sm btn-default"  ng-show = "content.type == 'file' && (content.name.indexOf('.war')  > -1 || content.name.indexOf('.jar')  > -1)" ng-click="details(content.name, content.path)" title="details">
		        <i class="glyphicon glyphicon-picture"></i>
		    </button>
			<button class="btn btn-sm btn-success"  ng-show = "content.type == 'file' && (content.name.indexOf('.war')  > -1 || content.name.indexOf('.jar')  > -1)" ng-click = "build(content.name, content.path)" title="build">
		        <i class="glyphicon glyphicon-tower"></i>
		    </button>
		    <button class="btn btn-sm btn-danger"   ng-show = "content.type == 'file'" ng-click="delete(content.name, content.path)" title="remove">
		        <i class="glyphicon glyphicon-trash"></i>
		    </button>
		</div>
       </td>
    </tr>
  </table>
</div>

<div ng-controller="BuildController">  
    <div class="container-fluid">
  		<div class="row-fluid">
  		    <button type="button" ng-click="showProcesses()" class="btn btn-default">Toggle Process List</button>
    		<div class="col-lg-4 col-lg-offset-1 border" ng-show = "processDetailsList.length > 0 && showProcessList">
				<div class="jumbotron">
		    		<h2>Process List</h2> 
		    	</div>
		    	<table class="table table-hover">
				    <thead>
				     <tr>
				      <th> Name </th>
				      <th> Process Id </th>
				      <th> User </th>
				      <th> Start Time </th>
				      <th> Actions </th>
				     </tr>
				    </thead>
				    <tr ng-repeat = "process in processDetailsList">
				       <td>{{process.name | limitTo : 40}}</td>
				       <td>{{process.pid}}</td>
				       <td>{{process.user}} </td>
				       <td>{{process.stime}} </td>
				       <td>
					     <button class="btn btn-sm btn-danger" data-toggle="modal" data-target="#delete"  ng-click="killProcess(process.pid)" title="kill">
					        <i class="glyphicon glyphicon-remove"></i>
					     </button>
				       </td>
				    </tr>
				</table>
			</div>
    		<div ng-show = "buildDetails.name" class="col-lg-4 col-lg-offset-1 border">
				<div class="jumbotron">
		    		<h2>Build Options</h2> 
		    	</div> 
	   			 <form class="form-horizontal" ng-submit="build()">
					 <div class="form-group">
					   <label for="buildName" class="col-sm-3 control-label">Build Name : </label>
					   <p class="form-control-static">{{buildDetails.name}}</p>
					 </div>
					 <div class="form-group">
					   <label for="buildName" class="col-sm-3 control-label">Build Path : </label>
					   <p class="form-control-static">{{buildDetails.path}}</p>
					 </div>
					 <div class="form-group">
					   <label for="env" class="col-sm-3 control-label">Build Environment : </label>
					   <div class="col-sm-4">
						   <select class="form-control" ng-model="buildDetails.environment" id="environment" >
						     <option value="development">Development</option>
						     <option value="staging">Staging</option>
						     <option value="production">Production</option>
						   </select>
					   </div>
					 </div>
					 <div class="form-group">
					   <label for="inputEmail3" class="col-sm-3 control-label">Email : </label>
					   <div class="col-sm-8">
					     <input type="email" class="form-control" ng-model = "buildDetails.email" id="email" placeholder="Email">
					   </div>
					 </div>
					 <div class="form-group">
					   <label for="comment" class="col-sm-3 control-label">Comment : </label>
					   <div class="col-sm-8">
					     <textarea class="form-control" rows="5" ng-model = "buildDetails.comments" id="comment"></textarea>
					   </div>
					 </div>
					 <div class="form-group">
					   <div class="col-sm-offset-2 col-sm-10">
					     <button type="submit" class="btn btn-success">Build</button>
					     <button type="button" class="btn btn-default">Cancel</button>
					   </div>
					 </div>
				 </form>
			</div>
		</div>
	</div>
</div>
